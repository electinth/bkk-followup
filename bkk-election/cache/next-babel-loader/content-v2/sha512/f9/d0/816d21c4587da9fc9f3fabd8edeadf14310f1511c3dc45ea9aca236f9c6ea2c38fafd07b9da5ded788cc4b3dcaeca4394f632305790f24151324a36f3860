{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/meee_pooh/Desktop/PunchUp/bkk-followup/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport numeral from \"numeral\";\nimport _ from \"lodash\";\nimport { isMobileOnly, isMobile, isTablet } from \"react-device-detect\";\nexport default function BudgetPageThree(props) {\n  var active_index = props.active_index;\n\n  var _useState = useState(false),\n      show_legend = _useState[0],\n      setShowLegend = _useState[1];\n\n  var _useState2 = useState({}),\n      hover_legend = _useState2[0],\n      setHoverLegend = _useState2[1];\n\n  var chart_legends = [{\n    title: \"การศึกษา\",\n    color: \"#F4B8CA\"\n  }, {\n    title: \"สาธารณสุข\",\n    color: \"#B22E56\"\n  }, {\n    title: \"การพัฒนาและบริการสังคม\",\n    color: \"#DF3A6B\"\n  }, {\n    title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n    color: \"#FF9E0D\"\n  }, {\n    title: \"การโยธาและระบบจราจร\",\n    color: \"#9FB2C3\"\n  }, {\n    title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n    color: \"#CCF4DD\"\n  }, {\n    title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n    color: \"#00C853\"\n  }];\n  var chart_data = [{\n    year: 2555,\n    values: [{\n      title: \"การศึกษา\",\n      value: 6377129080\n    }, {\n      title: \"สาธารณสุข\",\n      value: 4954041000\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 8817996000\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 7490564300\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 11745330820\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 9407826600\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 21207112200\n    }]\n  }, {\n    year: 2556,\n    values: [{\n      title: \"การศึกษา\",\n      value: 9113839500\n    }, {\n      title: \"สาธารณสุข\",\n      value: 5170299900\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 7228200700\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 5697053500\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 11511754000\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 13788670400\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 17390182000\n    }]\n  }, {\n    year: 2557,\n    values: [{\n      title: \"การศึกษา\",\n      value: 5690207300\n    }, {\n      title: \"สาธารณสุข\",\n      value: 5522328600\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 6951754400\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 5868312300\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 11604899100\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 14743038700\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 19619459600\n    }]\n  }, {\n    year: 2558,\n    values: [{\n      title: \"การศึกษา\",\n      value: 5327612260\n    }, {\n      title: \"สาธารณสุข\",\n      value: 5436231200\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 7501896200\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 6875239600\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 10721085000\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 13395895700\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 15742040040\n    }]\n  }, {\n    year: 2559,\n    values: [{\n      title: \"การศึกษา\",\n      value: 5339825700\n    }, {\n      title: \"สาธารณสุข\",\n      value: 5199125000\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 7109940700\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 9135334762\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 12415062000\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 13089534400\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 17711177438\n    }]\n  }, {\n    year: 2560,\n    values: [{\n      title: \"การศึกษา\",\n      value: 4142355400\n    }, {\n      title: \"สาธารณสุข\",\n      value: 6141582200\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 7459922417\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 6827092100\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 14743356700\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 11649415683\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 26749192000\n    }]\n  }, {\n    year: 2561,\n    values: [{\n      title: \"การศึกษา\",\n      value: 5077764500\n    }, {\n      title: \"สาธารณสุข\",\n      value: 6086651800\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 6559004200\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 5936177400\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 15934089400\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 13029289300\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 25877023400\n    }]\n  }, {\n    year: 2562,\n    values: [{\n      title: \"การศึกษา\",\n      value: 4529808000\n    }, {\n      title: \"สาธารณสุข\",\n      value: 6490147850\n    }, {\n      title: \"การพัฒนาและบริการสังคม\",\n      value: 6207329598\n    }, {\n      title: \"การระบายน้ำและกำจัดน้ำเสีย\",\n      value: 6281779301\n    }, {\n      title: \"การโยธาและระบบจราจร\",\n      value: 15774401980\n    }, {\n      title: \"การรักษาความสะอาดและความเป็นระเบียบเรียบร้อย\",\n      value: 12978587552\n    }, {\n      title: \"การบริหารทั่วไป (สำหรับการจัดการภายในและการวางแผน)\",\n      value: 27737945719\n    }]\n  }];\n  chart_data = _.map(chart_data, function (d) {\n    var sum = _.sumBy(d.values, \"value\");\n\n    return {\n      year: d.year,\n      values: _.map(d.values, function (v) {\n        return _objectSpread(_objectSpread({}, v), {}, {\n          percent: v.value * 100 / sum\n        });\n      })\n    };\n  });\n\n  var getColor = function getColor(title) {\n    var legend = chart_legends.find(function (l) {\n      return l.title === title;\n    });\n    return _.get(legend, \"color\");\n  };\n\n  useEffect(function () {\n    setTimeout(function () {\n      setShowLegend(true);\n    }, 1200);\n  }, []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"budget-page-three fixed inset-x-0 bottom-0 z-10 pointer-events-none bg-black-default text-white-default\",\n    style: {\n      top: \"60px\"\n    },\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"container h-full mx-auto py-5\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"grid h-full grid-cols-1 gap-5 lg:grid-cols-2\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"text-left left lg:w-4/5 md:text-center lg:text-left\",\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            className: \"d3\",\n            children: \"8 \\u0E1B\\u0E35\\u0E17\\u0E35\\u0E48\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E21\\u0E32 \\u0E01\\u0E17\\u0E21. \\u0E43\\u0E0A\\u0E49\\u0E07\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E21\\u0E32\\u0E13\\u0E44\\u0E1B\"\n          }), /*#__PURE__*/_jsx(\"h2\", {\n            className: \"d2\",\n            children: \"581,112,916,500 \\u0E1A\\u0E32\\u0E17\"\n          }), /*#__PURE__*/_jsx(\"h4\", {\n            className: \"hidden mt-6 d4 md:block\",\n            children: \"\\u0E07\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E21\\u0E32\\u0E13 \\u0E01\\u0E17\\u0E21. \\u0E43\\u0E0A\\u0E49\\u0E44\\u0E1B\\u0E01\\u0E31\\u0E1A\\u0E2D\\u0E30\\u0E44\\u0E23\\u0E1A\\u0E49\\u0E32\\u0E07?\"\n          }), isMobileOnly && active_index === 5 || !isMobile && show_legend ? /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"h5\", {\n              className: \"block d5 mt-7 lg:hidden\",\n              children: \"\\u0E07\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E21\\u0E32\\u0E13 \\u0E01\\u0E17\\u0E21. \\u0E43\\u0E0A\\u0E49\\u0E44\\u0E1B\\u0E01\\u0E31\\u0E1A\\u0E2D\\u0E30\\u0E44\\u0E23\\u0E1A\\u0E49\\u0E32\\u0E07?\"\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"legends mt-7 md:mt-9\",\n              children: chart_legends.map(function (l) {\n                return /*#__PURE__*/_jsxs(\"li\", {\n                  className: \"flex items-center mt-1 d5\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"flex-none w-5 h-5 mr-3 rounded\",\n                    style: {\n                      background: l.color\n                    }\n                  }), l.title]\n                }, l.title);\n              })\n            })]\n          }) : null]\n        }), !isMobileOnly || active_index === 6 ? /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex items-center right\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"grid w-full grid-cols-8 gap-2 text-center chart lg:gap-4 lg:w-auto\",\n            children: chart_data.map(function (d) {\n              return /*#__PURE__*/_jsxs(\"div\", {\n                className: \"bar\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex flex-col box-wrap\",\n                  style: {\n                    height: isTablet ? \"calc(100vh - 500px)\" : isMobileOnly ? \"calc(100vh - 455px)\" : \"560px\"\n                  },\n                  children: d.values.map(function (v) {\n                    return /*#__PURE__*/_jsx(\"div\", {\n                      className: \"box rounded-md mb-0.5 relative pointer-events-auto cursor-pointer\",\n                      style: {\n                        width: isMobile ? \"100%\" : \"52px\",\n                        height: \"\".concat(v.percent, \"%\"),\n                        background: getColor(v.title)\n                      },\n                      onMouseOver: function onMouseOver() {\n                        return setHoverLegend(_objectSpread({\n                          year: d.year\n                        }, v));\n                      },\n                      onMouseLeave: function onMouseLeave() {\n                        return setHoverLegend({});\n                      },\n                      children: isMobileOnly ? null : /*#__PURE__*/_jsxs(\"div\", {\n                        className: \"absolute z-10 px-4 py-2 mx-auto text-xs transform rounded-md shadow-md pointer-events-none tooltip bg-white-default -top-10 left-2/4 -translate-x-2/4 text-black-default\",\n                        style: {\n                          minWidth: \"176px\"\n                        },\n                        children: [\"\\u0E1B\\u0E35 \", d.year, /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"b\", {\n                          children: v.title\n                        }), /*#__PURE__*/_jsx(\"br\", {}), numeral(v.value / 1e7).format(\"0.00\"), \" \\u0E25\\u0E49\\u0E32\\u0E19\\u0E1A\\u0E32\\u0E17 (\", numeral(v.percent).format(\"0.00\"), \"%)\"]\n                      })\n                    }, v.title);\n                  })\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"year d5\",\n                  children: [\"'\", d.year.toString().split(\"25\")[1]]\n                })]\n              }, d.year);\n            })\n          })\n        }) : null, isMobileOnly ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"max-w-full p-2 mx-auto text-xs text-center rounded-md shadow-md pointer-events-none tooltip bg-white-default text-black-default w-max\",\n          style: {\n            minWidth: \"176px\",\n            height: \"fit-content\",\n            opacity: hover_legend.title ? 1 : 0\n          },\n          children: [\"\\u0E1B\\u0E35 \", hover_legend.year, /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"b\", {\n            children: hover_legend.title\n          }), /*#__PURE__*/_jsx(\"br\", {}), numeral(hover_legend.value / 1e7).format(\"0.00\"), \" \\u0E25\\u0E49\\u0E32\\u0E19\\u0E1A\\u0E32\\u0E17 (\", numeral(hover_legend.percent).format(\"0.00\"), \"%)\"]\n        }) : null, isTablet ? /*#__PURE__*/_jsxs(\"div\", {\n          className: \"grid grid-cols-2 gap-3\",\n          children: [/*#__PURE__*/_jsx(\"ul\", {\n            className: \"legends\",\n            children: chart_legends.filter(function (l, index) {\n              return index < 4;\n            }).map(function (l) {\n              return /*#__PURE__*/_jsxs(\"li\", {\n                className: \"flex items-center mt-1 d5\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex-none w-5 h-5 mr-3 rounded\",\n                  style: {\n                    background: l.color\n                  }\n                }), l.title]\n              }, l.title);\n            })\n          }), /*#__PURE__*/_jsx(\"ul\", {\n            className: \"legends\",\n            children: chart_legends.filter(function (l, index) {\n              return index > 3;\n            }).map(function (l) {\n              return /*#__PURE__*/_jsxs(\"li\", {\n                className: \"flex items-center mt-1 d5\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"flex-none w-5 h-5 mr-3 rounded\",\n                  style: {\n                    background: l.color\n                  }\n                }), l.title]\n              }, l.title);\n            })\n          })]\n        }) : null]\n      })\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}