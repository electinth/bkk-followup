{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Rating from 'components/Dashboard/util/rating';\nimport exclamation from 'assets/images/exclamation.svg';\nimport smile from 'assets/images/smile.svg';\n\nconst AVG = ({\n  selected_theme,\n  data,\n  checked,\n  state_dropdown,\n  district_data\n}) => {\n  let AVG_title, unit, AVG_max, AVG_min, AVG, year_length, compare_title, compare_sub, unit_filter, rank_text, img_top, img_bot;\n\n  function sum(obj) {\n    var sum = 0;\n\n    for (var el in obj) {\n      if (obj.hasOwnProperty(el) && obj[el] != null) {\n        sum += parseFloat(obj[el]);\n      }\n    }\n\n    return sum;\n  }\n\n  year_length = Object.keys(data.valuePerYear).length;\n\n  if (selected_theme.name === 'น้ำท่วมถนน') {\n    AVG_title = 'ระดับน้ำท่วมบนถนนโดยเฉลี่ยตั้งแต่ปี 2555-2562';\n    unit = 'ซม.';\n    unit_filter = 'ครั้ง';\n    AVG_max = 'เขตที่มีระดับน้ำท่วมบนถนนโดยเฉลี่ยต่ำที่สุด';\n    AVG_min = 'เขตที่มีระดับน้ำท่วมบนถนนโดยเฉลี่ยสูงที่สุด';\n    AVG = (sum(data.valuePerYear) / year_length).toFixed(2);\n    compare_title = 'เปรียบเทียบจำนวนครั้งทั้งหมดที่น้ำท่วมแต่ละกลุ่มเขต';\n    rank_text = 'ปี 2562 เขตนี้น้ำท่วมบ่อยสุดเป็นอันดับที่';\n  } else if (selected_theme.name === 'พื้นที่สีเขียว') {\n    AVG_title = 'สัดส่วนพื้นที่สีเขียวต่อประชากร 1 คนโดยเฉลี่ย ปี 2562';\n    unit = 'ตร.ม./คน';\n    unit_filter = 'ตร.ม./คน';\n    AVG_max = 'เขตที่มีพื้นที่สีเขียวมากที่สุด';\n    AVG_min = 'เขตที่มีพื้นที่สีเขียวน้อยที่สุด';\n    AVG = data.value;\n    compare_title = 'เปรียบเทียบสัดส่วนขยะมูลฝอย';\n    compare_sub = 'ต่อประชากร 1 คนต่อวันแต่ละกลุ่มเขต';\n    rank_text = 'ปี 2562 เขตนี้มีพื้นที่สีเขียวต่อคน มากที่สุดเป็นอันดับ';\n    img_top = exclamation;\n    img_bot = smile;\n  } else if (selected_theme.name === 'มลพิษในคลอง') {\n    AVG_title = 'ค่า BOD ในน้ำคลองแต่ละเขตโดยเฉลี่ยตั้งแต่ปี 2555-2562';\n    unit = 'มก./ลิตร';\n    unit_filter = 'มก./ลิตร';\n    AVG_max = 'ค่า BOD ในน้ำคลองโดยเฉลี่ยสูงที่สุด';\n    AVG_min = 'ค่า BOD ในน้ำคลองโดยเฉลี่ยต่ำที่สุด';\n    AVG = (sum(data.valuePerYear) / year_length).toFixed(2);\n    compare_title = 'เปรียบเทียบค่า BOD ในน้ำคลองแต่ละกลุ่มเขต';\n    rank_text = 'ปี 2562 เขตนี้มีค่า BOD มากที่สุดเป็นอันดับที่';\n    img_top = smile;\n    img_bot = exclamation;\n  } else if (selected_theme.name === 'ขยะมูลฝอย') {\n    AVG_title = 'จำนวนขยะมูลฝอยโดยเฉลี่ย ปี 2562';\n    unit = 'กก./คน/วัน';\n    unit_filter = 'กก./คน/วัน';\n    AVG_max = 'เขตที่ขยะมากที่สุด';\n    AVG_min = 'เขตที่ขยะน้อยที่สุด';\n    AVG = data.value;\n    compare_title = 'เปรียบเทียบสัดส่วนขยะมูลฝอย';\n    compare_sub = 'ต่อประชากร 1 คนต่อวันแต่ละกลุ่มเขต';\n    rank_text = 'ปี 2562 เขตนี้มีปริมาณขยะมูลฝอยต่อคนต่อวันมากสุดเป็นอันดับที่';\n    img_top = smile;\n    img_bot = exclamation;\n  } else if (selected_theme.name === 'ฝุ่นควันเกินมาตรฐาน') {\n    AVG_title = 'ร้อยละของจำนวนครั้งที่ค่าฝุ่นเกินค่ามาตรฐาน';\n    unit = 'มค.ก./ลบ.ม.';\n    unit_filter = 'มค.ก./ลบ.ม.';\n    AVG_max = 'เขตที่มีค่าสูงสุดของ PM2.5 มากที่สุด';\n    AVG_min = 'เขตที่มีค่าสูงสุดของ PM2.5 น้อยที่สุด';\n    AVG = '39%';\n    compare_title = 'เปรียบเทียบปัญหาฝุ่นควันสูงแต่ละกลุ่มเขต';\n    rank_text = 'ปี 2562 เขตนี้มีค่าสูงสุดของ PM2.5 มากที่สุดเป็นอันดับที่';\n    img_top = smile;\n    img_bot = exclamation;\n  }\n\n  const box_compare = (data, unit, color) => {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      id: \"compare-wrapper\",\n      className: \"flex flex-row my-1\",\n      style: {\n        boxShadow: '0px 2px 4px rgba(0, 0, 0, 0.075)',\n        width: '95%'\n      },\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"flex-1 py-4 pl-2 pr-5 rounded-l p2 text-white-default\",\n        style: {\n          backgroundColor: color\n        },\n        children: data.areaName\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex items-baseline flex-1 pl-2 font-bold\",\n        style: {\n          color: selected_theme.text_color\n        },\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"pr-1 h4\",\n          children: data.value\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"ml-1 p2\",\n          children: unit\n        })]\n      })]\n    });\n  };\n\n  const default_choice = (data, unit) => {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"flex flex-col flex-1 mt-3 md:mt-0 \",\n      id: \"AVG-right\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex-1 card_cat_detail\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex justify-center py-1 rounded-t text-white-default p2\",\n          style: {\n            backgroundColor: selected_theme.color\n          },\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            src: img_top,\n            alt: `${img_top}`,\n            className: \"mr-3\",\n            style: {\n              width: '20px'\n            }\n          }), AVG_min]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"px-2 py-3 leading-tight\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"font-bold h4\",\n            children: [\"\\u0E40\\u0E02\\u0E15\", data.minimumPoint.districtName, \" \\u0E1B\\u0E35 \", data.minimumPoint.year]\n          }), /*#__PURE__*/_jsxs(\"span\", {\n            className: \"flex flex-row font-bold h4\",\n            style: {\n              color: selected_theme.text_color\n            },\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              children: data.minimumPoint.value\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: \"pl-2\",\n              children: [\" \", unit]\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex-1 mt-3 card_cat_detail\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex justify-center py-1 rounded-t text-white-default p2\",\n          style: {\n            backgroundColor: selected_theme.color\n          },\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            src: img_bot,\n            alt: `${img_bot}`,\n            className: \"mr-3\",\n            style: {\n              width: '20px'\n            }\n          }), AVG_max]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"px-2 py-3 leading-tight\",\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            className: \"font-bold h4\",\n            children: [\"\\u0E40\\u0E02\\u0E15\", data.maximumPoint.districtName, \" \\u0E1B\\u0E35 \", data.maximumPoint.year]\n          }), /*#__PURE__*/_jsxs(\"span\", {\n            className: \"flex flex-row font-bold h4\",\n            style: {\n              color: selected_theme.text_color\n            },\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              children: data.maximumPoint.value\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: \"pl-2\",\n              children: [\" \", unit]\n            })]\n          })]\n        })]\n      })]\n    });\n  };\n\n  const checked_choice = (data, unit) => {\n    let choose, default_choose;\n    default_choose = _.filter(data.benchmarks, {\n      zoneId: 'all'\n    });\n\n    if (checked === 'เขตพื้นที่ธุรกิจ') {\n      choose = _.filter(data.benchmarks, {\n        zoneId: 'business'\n      });\n    } else if (checked === 'เขตพื้นที่ท่องเที่ยวและวัฒนธรรม') {\n      choose = _.filter(data.benchmarks, {\n        zoneId: 'tourism-and-cultural'\n      });\n    } else if (checked === 'เขตพื้นที่อยู่อาศัย') {\n      choose = _.filter(data.benchmarks, {\n        zoneId: 'residence'\n      });\n    } else if (checked === 'เขตพื้นที่ชานเมือง') {\n      choose = _.filter(data.benchmarks, {\n        zoneId: 'suburban'\n      });\n    }\n\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"flex flex-col flex-1 mt-3 md:mt-3\",\n      id: \"AVG-right\",\n      style: {\n        height: 'fit-content'\n      },\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex-1 card_cat_detail\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-col justify-center px-5 py-1 text-center rounded-t text-white-default p2\",\n          style: {\n            backgroundColor: selected_theme.color\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            children: compare_title\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: compare_sub ? compare_sub : ''\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"px-2 py-3 leading-tight\",\n          children: [selected_theme.name === 'น้ำท่วมถนน' ? '' : box_compare(...default_choose, unit, selected_theme.color), box_compare(...choose, unit, 'black')]\n        })]\n      })\n    });\n  };\n\n  const checked_district = district_data => {\n    return Rating(selected_theme, rank_text, district_data);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"AVG\",\n    className: \"flex flex-col mt-3 md:flex-row\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"flex-1 md:mr-3 card_cat_detail\",\n      id: \"AVG-left\",\n      style: {\n        backgroundColor: selected_theme.name === 'ฝุ่นควันเกินมาตรฐาน' ? selected_theme.color50 : ''\n      },\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"flex justify-center py-1 rounded-t text-white-default p2\",\n        style: {\n          backgroundColor: selected_theme.color\n        },\n        children: selected_theme.name === 'ฝุ่นควันเกินมาตรฐาน' ? 'จำนวนครั้งที่ค่าฝุ่นเกินกำหนด' : 'ค่าเฉลี่ย'\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"px-2 py-3\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: \"font-bold leading-tight h4\",\n          children: AVG_title\n        }), /*#__PURE__*/_jsx(\"p\", {\n          style: {\n            color: selected_theme.text_color\n          },\n          className: \"font-bold h2\",\n          children: AVG\n        }), selected_theme.name === 'ฝุ่นควันเกินมาตรฐาน' ? /*#__PURE__*/_jsx(\"p\", {\n          style: {\n            color: selected_theme.text_color\n          },\n          className: \"mr-32 font-bold p1\",\n          children: \"\\u0E2B\\u0E23\\u0E37\\u0E2D 86 \\u0E04\\u0E23\\u0E31\\u0E49\\u0E07 \\u0E08\\u0E32\\u0E01\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 216 \\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\\u0E17\\u0E35\\u0E48\\u0E15\\u0E23\\u0E27\\u0E08\\u0E27\\u0E31\\u0E14\"\n        }) : /*#__PURE__*/_jsx(\"p\", {\n          style: {\n            color: selected_theme.text_color\n          },\n          className: \"mr-32 font-bold p1\",\n          children: unit\n        })]\n      })]\n    }), state_dropdown === 'zone' ? checked_district(district_data) : checked === 'เขตพื้นที่ทั้งหมด' ? default_choice(data, unit_filter) : checked_choice(data, unit_filter)]\n  });\n};\n\nexport default AVG;","map":null,"metadata":{},"sourceType":"module"}