{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { isMobile, isMobileOnly } from 'react-device-detect';\n\nconst rank62 = ({\n  selected_theme,\n  data,\n  SET_DISTRICT,\n  SET_IS_RANK\n}) => {\n  let title, sub, standard, avg, height_rank, low_rank, unit, note;\n  let height_elem = d3.select('#group-dropdown').node().getBoundingClientRect().height;\n\n  if (selected_theme.name === 'น้ำท่วมถนน') {\n    title = 'อันดับน้ำท่วมในกรุงเทพมหานคร';\n    sub = 'จำนวนครั้งที่มีน้ำท่วมบนถนน (ครั้ง)';\n    unit = 'ครั้ง';\n    note = 'ที่มาข้อมูล: สํานักยุทธศาสตร์และประเมินผล และสำนักงบประมาณ กรุงเทพมหานคร ';\n  } else if (selected_theme.name === 'พื้นที่สีเขียว') {\n    title = 'อันดับพื้นที่สีเขียวในกรุงเทพมหานคร';\n    sub = 'ปริมาณพื้นที่สีเขียวต่อคนต่อวัน (ตร.ม./คน)';\n    standard = 9;\n    avg = 'ค่ามาตรฐานตาม WHO 9 ตร.ม./คน';\n    unit = 'ตร.ม./คน';\n    note = 'ที่มาข้อมูล: สํานักยุทธศาสตร์และประเมินผล สำนักงบประมาณ และสำนักสิ่งแวดล้อม กรุงเทพมหานคร ';\n  } else if (selected_theme.name === 'มลพิษในคลอง') {\n    title = 'อันดับค่ามลพิษในคลองกรุงเทพมหานคร';\n    sub = 'ปริมาณมลพิษในคลอง (มก./ลบ.ซม.)';\n    standard = 15;\n    avg = 'ค่่า BOD มาตรฐาน (ไม่เกิน 15 มก./ลิตร)';\n    unit = 'ตร.ม./คน';\n    note = 'สำนักการระบายน้ำ และสำนักงบประมาณ กรุงเทพมหานคร';\n  } else if (selected_theme.name === 'ขยะมูลฝอย') {\n    title = 'อันดับขยะมูลฝอยในกรุงเทพมหานคร';\n    sub = 'ปริมาณขยะต่อคนต่อวัน (กก./คน/วัน)';\n    standard = 1.8;\n    avg = 'ปริมาณขยะมูลฝอยต่อคนต่อวันโดยทั้งประเทศ ปี 2562 คือ 1.180 กก.';\n    unit = 'กก./คน/วัน';\n    note = 'สํานักยุทธศาสตร์และประเมินผล และสำนักงบประมาณ กรุงเทพมหานคร ';\n  } else if (selected_theme.name === 'ฝุ่นควันเกินมาตรฐาน') {\n    title = 'อันดับค่าฝุ่นควันในกรุงเทพมหานคร';\n    sub = 'ค่าฝุ่นควันสูงสุด ( มคก./ลบ.ม.)';\n    standard = 25;\n    avg = 'ค่าฝุ่นละออง PM2.5 (ไม่เกิน 25 มคก./ลบ.ม.)';\n    unit = 'kg/คน/วัน';\n    note = 'กรมควบคุมมลพิษ กระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม';\n  }\n\n  height_rank = _.filter(data, d => {\n    if (selected_theme.name != 'น้ำท่วมถนน') {\n      return d.value > standard;\n    } else {\n      return data;\n    }\n  });\n  low_rank = _.filter(data, d => d.value < standard);\n\n  const selected_zone = name => {\n    SET_DISTRICT(name);\n    setTimeout(() => {\n      d3.select(`.rect${name}`).style('stroke-width', 1).style('stroke', 'white');\n      d3.select(`.minimap${name}`).style('fill', 'white');\n      d3.select(`.tooltip${name}`).style('visibility', 'visible');\n    }, 100);\n    SET_IS_RANK(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"rank62\",\n    className: \"absolute z-30 w-full pb-16 bg-black-default xl:relative xl:pb-0\",\n    style: {\n      top: isMobile ? height_elem + 'px' : ''\n    },\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      id: \"rank62-header\",\n      className: \"flex flex-col justify-center mt-3 text-center text-white-default\",\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        className: \"font-bold d4\",\n        children: title\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: \"my-2 font-bold h4 lg:my-0\",\n        children: isMobile ? 'ภาพรวมย้อนหลัง 8 ปี (2555-2562)' : 'ข้อมูลประจำปี 2562'\n      }), /*#__PURE__*/_jsxs(\"span\", {\n        className: \"flex flex-col m-auto p1 md:flex-row\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-2 lg:mb-0\",\n          children: sub\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"mb-1 font-bold underline md:ml-1 lg:mb:0\",\n          children: \"\\u0E40\\u0E23\\u0E35\\u0E22\\u0E07\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\\u0E21\\u0E32\\u0E01\\u0E44\\u0E1B\\u0E19\\u0E49\\u0E2D\\u0E22\"\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      id: \"list-body\",\n      className: \"px-3 pt-2\",\n      children: [height_rank.map((rank, index) => /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex px-3 py-3 my-1 font-bold rounded cursor-pointer bg-white-default p2\",\n        onClick: () => selected_zone(rank.districtName),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-row items-center flex-1\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"mr-2 circle_wrapper\",\n            children: index + 1\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: rank.districtName\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-row items-center justify-end flex-1\",\n          style: {\n            color: selected_theme.text_color\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: rank.value\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"ml-2 font-bold p2\",\n            children: unit\n          })]\n        })]\n      }, index)), /*#__PURE__*/_jsx(\"p\", {\n        className: \"flex justify-center p2 text-white-default\",\n        children: avg\n      }), low_rank.map((rank, index) => /*#__PURE__*/_jsxs(\"div\", {\n        className: \"flex px-3 py-3 my-1 font-bold rounded cursor-pointer bg-white-default p2\",\n        onClick: () => selected_zone(rank.districtName),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-row items-center flex-1\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"mr-2 circle_wrapper\",\n            children: height_rank.length + 1 + index\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: rank.districtName\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-row items-center justify-end flex-1\",\n          style: {\n            color: selected_theme.text_color\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: rank.value\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"ml-2 font-bold p2\",\n            children: unit\n          })]\n        })]\n      }, index))]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      id: \"note\",\n      className: \"flex flex-col px-2 py-3 mx-3 my-1 font-bold rounded bg-white-default p2\",\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        className: \"font-bold h4\",\n        children: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: \"p3\",\n        children: note\n      })]\n    })]\n  });\n};\n\nexport default rank62;","map":null,"metadata":{},"sourceType":"module"}