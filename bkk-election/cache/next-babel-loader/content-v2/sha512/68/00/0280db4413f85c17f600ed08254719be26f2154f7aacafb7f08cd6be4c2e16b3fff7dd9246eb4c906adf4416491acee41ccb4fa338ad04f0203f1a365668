{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport numeral from \"numeral\";\nimport { isMobileOnly } from \"react-device-detect\";\nexport default function BudgetPageTwo() {\n  useEffect(() => {\n    const data = [{\n      year: 2555,\n      value: 12338\n    }, {\n      year: 2556,\n      value: 12295\n    }, {\n      year: 2557,\n      value: 12297\n    }, {\n      year: 2558,\n      value: 11411\n    }, {\n      year: 2559,\n      value: 12310\n    }, {\n      year: 2560,\n      value: 13676\n    }, {\n      year: 2561,\n      value: 13829\n    }, {\n      year: 2562,\n      value: 14119\n    }];\n    const parent_width = d3.select(\".line-chart\").node().clientWidth;\n    let height = 200;\n    let width = parent_width;\n    const margin = {\n      top: 5,\n      right: isMobileOnly ? 40 : 25,\n      bottom: 5,\n      left: isMobileOnly ? 40 : 25\n    };\n    width = width - margin.left - margin.right;\n    height = height - margin.top - margin.bottom;\n    const x_scale = d3.scaleTime().domain(d3.extent(data, d => d.year)).range([0, width]);\n    const y_scale = d3.scaleLinear().domain([10000, d3.max(data, d => d.value * 1.2)]).range([height, 0]);\n    const valueLine = d3.line().x(d => x_scale(d.year)).y(d => y_scale(d.value));\n    const x_axis = d3.axisBottom(x_scale).ticks(6).tickSize(0).tickValues(\"\");\n    let chart = d3.select(\".line-chart\").select(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    chart.append(\"path\").data([data]).attr(\"class\", \"line\").attr(\"d\", valueLine).style(\"fill\", \"none\").style(\"stroke\", \"white\").style(\"stroke-width\", 4);\n    chart.append(\"g\").attr(\"class\", \"x-axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(x_axis).select(\"path\").style(\"color\", \"#00C853\").style(\"stroke-dasharray\", \"4, 4\").style(\"stroke-width\", 2);\n    chart.selectAll().data(data).enter().append(\"text\").attr(\"class\", \"label-year\").attr(\"x\", d => x_scale(d.year)).attr(\"y\", d => y_scale(d.value)).attr(\"dy\", \"-50\").style(\"font-size\", \"24px\").style(\"fill\", \"white\").style(\"text-anchor\", \"middle\").style(\"opacity\", \"0\").text(d => d.year);\n    chart.selectAll().data(data).enter().append(\"text\").attr(\"class\", \"label-value\").attr(\"x\", d => x_scale(d.year)).attr(\"y\", d => y_scale(d.value)).attr(\"dy\", \"-28\").style(\"font-size\", \"16px\").style(\"font-family\", \"TheMATTER\").style(\"fill\", \"#7AE2A6\").style(\"text-anchor\", \"middle\").style(\"opacity\", \"0\").text(d => numeral(d.value).format(\"0,0\"));\n    chart.selectAll().data(data).enter().append(\"text\").attr(\"class\", \"label-unit\").attr(\"x\", d => x_scale(d.year)).attr(\"y\", d => y_scale(d.value)).attr(\"dy\", \"-12\").style(\"font-size\", \"16px\").style(\"fill\", \"#7AE2A6\").style(\"text-anchor\", \"middle\").style(\"opacity\", \"0\").text(_ => \"บาท/คน\");\n    chart.selectAll().data(data).enter().append(\"circle\").attr(\"class\", \"dot\").attr(\"cx\", d => x_scale(d.year)).attr(\"cy\", d => y_scale(d.value)).attr(\"r\", 6).style(\"fill\", \"white\");\n    showValue();\n  }, []);\n\n  const showValue = () => {\n    d3.select(\".line\").style(\"stroke\", \"white\");\n    d3.select(\".x-axis\").select(\"path\").style(\"color\", \"#00C853\");\n    d3.selectAll(\".label-year\").style(\"opacity\", \"0\");\n    d3.selectAll(\".label-value\").style(\"opacity\", \"0\");\n    d3.selectAll(\".label-unit\").style(\"opacity\", \"0\");\n    d3.selectAll(\".label-year\").style(\"transition\", \"0.4s\");\n    d3.selectAll(\".label-value\").style(\"transition\", \"0.4s\");\n    d3.selectAll(\".label-unit\").style(\"transition\", \"0.4s\");\n    setTimeout(() => {\n      d3.select(\".line\").style(\"stroke\", \"#00C853\");\n      d3.select(\".x-axis\").select(\"path\").style(\"color\", \"white\");\n      d3.selectAll(\".label-year\").style(\"opacity\", \"1\");\n      d3.selectAll(\".label-value\").style(\"opacity\", \"1\");\n      d3.selectAll(\".label-unit\").style(\"opacity\", \"1\");\n    }, 1200);\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"budget-page-two fixed inset-0 z-10 pointer-events-none bg-black-default flex items-center justify-center\",\n    style: {\n      top: \"60px\"\n    },\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"container mx-auto\",\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          className: \"lg:w-9/12 d3 text-white-default mt-5 lg:mt-14 text-left md:text-center lg:text-left\",\n          children: \"8 \\u0E1B\\u0E35\\u0E17\\u0E35\\u0E48\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E21\\u0E32 (2555-2562) \\u0E01\\u0E17\\u0E21. \\u0E43\\u0E0A\\u0E49\\u0E07\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E21\\u0E32\\u0E13 \\u0E14\\u0E39\\u0E41\\u0E25\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\\u0E15\\u0E48\\u0E2D\\u0E04\\u0E19\\u0E44\\u0E21\\u0E48\\u0E40\\u0E04\\u0E22\\u0E15\\u0E48\\u0E33\\u0E01\\u0E27\\u0E48\\u0E32\"\n        }), /*#__PURE__*/_jsx(\"h2\", {\n          className: \"d2 text-green-default mt-3 text-left md:text-center lg:text-left\",\n          children: \"10,000 \\u0E1A\\u0E32\\u0E17/\\u0E04\\u0E19/\\u0E1B\\u0E35\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"pb-5 overflow-x-auto pointer-events-auto lg:pointer-events-none mt-16 lg:mt-10 2xl:mt-20\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"relative mx-auto line-chart mt-14\",\n          style: {\n            width: isMobileOnly ? \"200%\" : \"80%\"\n          },\n          children: [/*#__PURE__*/_jsx(\"svg\", {}), /*#__PURE__*/_jsx(\"h4\", {\n            className: \"absolute hidden text-base start-at text-green-default -bottom-1 -right-24 lg:block\",\n            children: \"10,000 \\u0E1A\\u0E32\\u0E17\"\n          })]\n        })\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}